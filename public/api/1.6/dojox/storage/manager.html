<div class="jsdoc-permalink" style="display:none;">/api/1.6/dojox/storage/manager</div><h1 class="jsdoc-title constructorIcon36">dojox.storage.manager <span style="font-size:11px;color:#999;">(version 1.6)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.storage.manager</div><div class="jsdoc-require">dojo.require("dojox.storage.manager");</div><div class="jsdoc-prototype">Defined in dojox/storage/manager.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojox.storage.manager();</div></div><div class="jsdoc-full-summary"><p>Initializes the storage systems and figures out the best available
storage options on this platform.</p>
</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="objectIcon private inherited even"><a class="inline-link" href="#_initialized">_initialized</a></li><li class="arrayIcon private inherited odd"><a class="inline-link" href="#_onLoadListeners">_onLoadListeners</a></li><li class="objectIcon public inherited even"><a class="inline-link" href="#available">available</a></li><li class="objectIcon public inherited odd"><a class="inline-link" href="#currentProvider">currentProvider</a> <span>The storage provider that was automagically chosen to do storage
	on this platform, such as dojox.storage.FlashStorageProvider.</span></li><li class="arrayIcon public inherited even"><a class="inline-link" href="#providers">providers</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited odd"><a class="inline-link" href="#_fireLoaded">_fireLoaded</a><span class="parameters">()</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#addOnLoad">addOnLoad</a><span class="parameters">(func)</span> <span>Adds an onload listener to know when Dojo Offline can be used.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#autodetect">autodetect</a><span class="parameters">()</span> <span>Autodetects the best possible persistent storage provider
	available on this platform.</span></li><li class="functionIcon public  even"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">()</span><span class="jsdoc-returns"> returns dojox.storage.manager</span> <span>A reference to the constructor function for this object.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#getProvider">getProvider</a><span class="parameters">()</span> <span>Gets the current provider</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getResourceList">getResourceList</a><span class="parameters">()</span> <span>Returns a list of whatever resources are necessary for storage
	providers to work.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#initialize">initialize</a><span class="parameters">()</span> <span>Initializes the storage system and autodetects the best storage
	provider we can provide on this platform</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#isAvailable">isAvailable</a><span class="parameters">()</span> <span>Returns whether any storage options are available.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#isInitialized">isInitialized</a><span class="parameters">()</span> <span>Returns whether the storage system is initialized and ready to
	be used.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#loaded">loaded</a><span class="parameters">()</span> <span>The storage provider should call this method when it is loaded
	and ready to be used. Clients who will use the provider will
	connect to this method to know when they can use the storage
	system. You can either use dojo.connect to connect to this
	function, or can use dojox.storage.manager.addOnLoad() to add
	a listener that does not depend on the dojo.event package.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#register">register</a><span class="parameters">(name, instance)</span> <span>Registers the existence of a new storage provider; used by
	subclasses to inform the manager of their existence. The
	storage manager will select storage providers based on
	their ordering, so the order in which you call this method
	matters.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#removeOnLoad">removeOnLoad</a><span class="parameters">(func)</span> <span>Removes the given onLoad listener</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#setProvider">setProvider</a><span class="parameters">(storageClass)</span> <span>Instructs the storageManager to use the given storage class for
	all storage requests.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#supportsProvider">supportsProvider</a><span class="parameters">(storageClass)</span> <span>Determines if this platform supports the given storage provider.</span></li></ul></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_initialized"></a><span class="objectIcon">_initialized</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_onLoadListeners"></a><span class="arrayIcon">_onLoadListeners</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="available"></a><span class="objectIcon">available</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="currentProvider"></a><span class="objectIcon">currentProvider</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">The storage provider that was automagically chosen to do storage
	on this platform, such as dojox.storage.FlashStorageProvider.</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="providers"></a><span class="arrayIcon">providers</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div></div><h2>Methods</h2><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_fireLoaded"></a><span class="functionIcon">_fireLoaded</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="addOnLoad"></a><span class="functionIcon">addOnLoad</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary"><p>Adds a listener to know when Dojo Offline can be used. This
ensures that the Dojo Offline framework is loaded and that the
local dojox.storage system is ready to be used. This method is
useful if you don't want to have a dependency on Dojo Events
when using dojox.storage.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">func</td><td class="jsdoc-param-type">Function</td><td class="jsdoc-param-description">A function to call when Dojo Offline is ready to go</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="autodetect"></a><span class="functionIcon">autodetect</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Autodetects the best possible persistent storage provider
	available on this platform.</div></div><div class="jsdoc-field public  even"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.6/Object">Object</a></div><div class="jsdoc-return-type">Returns <strong>dojox.storage.manager</strong></div><div class="jsdoc-summary">A reference to the constructor function for this object.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="getProvider"></a><span class="functionIcon">getProvider</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Gets the current provider</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getResourceList"></a><span class="functionIcon">getResourceList</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary"><p>This will return all files needed by all storage providers for
this particular environment type. For example, if we are in the
browser environment, then this will return the hidden SWF files
needed by the FlashStorageProvider, even if we don't need them
for the particular browser we are working within. This is meant
to faciliate Dojo Offline, which must retrieve all resources we
need offline into the offline cache -- we retrieve everything
needed, in case another browser that requires different storage
mechanisms hits the local offline cache. For example, if we
were to sync against Dojo Offline on Firefox 2, then we would
not grab the FlashStorageProvider resources needed for Safari.</p>
</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="initialize"></a><span class="functionIcon">initialize</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Initializes the storage system and autodetects the best storage
	provider we can provide on this platform</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="isAvailable"></a><span class="functionIcon">isAvailable</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Returns whether any storage options are available.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="isInitialized"></a><span class="functionIcon">isInitialized</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Returns whether the storage system is initialized and ready to
	be used.</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="loaded"></a><span class="functionIcon">loaded</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary"><p>Example 1-
if(dojox.storage.manager.isInitialized() == false){
dojo.connect(dojox.storage.manager, "loaded", TestStorage, "initialize");
}else{
dojo.connect(dojo, "loaded", TestStorage, "initialize");
}
Example 2-
dojox.storage.manager.addOnLoad(someFunction);</p>
</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="register"></a><span class="functionIcon">register</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Registers the existence of a new storage provider; used by
	subclasses to inform the manager of their existence. The
	storage manager will select storage providers based on
	their ordering, so the order in which you call this method
	matters.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">name</td><td class="jsdoc-param-type">string</td><td class="jsdoc-param-description">The full class name of this provider, such as
	&quot;dojox.storage.FlashStorageProvider&quot;.</td></tr><tr><td class="jsdoc-param-name">instance</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">An instance of this provider, which we will use to call
	isAvailable() on.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="removeOnLoad"></a><span class="functionIcon">removeOnLoad</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary">Removes the given onLoad listener</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">func</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="setProvider"></a><span class="functionIcon">setProvider</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary"><p>Example-
dojox.storage.setProvider(
dojox.storage.IEStorageProvider)</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">storageClass</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="supportsProvider"></a><span class="functionIcon">supportsProvider</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.6/dojox/storage/manager">dojox.storage.manager</a></div><div class="jsdoc-summary"><p>Example-
dojox.storage.manager.supportsProvider(
"dojox.storage.InternetExplorerStorageProvider");</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">storageClass</td><td class="jsdoc-param-type">string</td><td class="jsdoc-param-description"></td></tr></table></div></div></div>